/**** Start of imports. If edited, may not auto-convert in the playground. ****/
var brazil = /* color: #d63000 */ee.Geometry.Polygon(
        [[[-51.78640764234759, 4.1646784719476155],
          [-53.17060485632365, 2.629462852324546],
          [-56.94970020570197, 2.607751671304006],
          [-59.102982044433915, 2.081140699209284],
          [-59.32224380954064, 5.128743290764549],
          [-61.672927118603575, 5.872690600358481],
          [-65.54014684083644, 4.100797426824546],
          [-66.33170053796253, 2.0168333736897304],
          [-67.23241543715108, 2.4342471392700302],
          [-69.93504857418762, 2.083871780533514],
          [-71.0691236113754, -3.8262647370115457],
          [-73.82949753171391, -5.638192677101385],
          [-74.22632982673764, -7.9943288024611725],
          [-73.06244925770567, -9.905424451151342],
          [-70.95667649200837, -10.925282871190214],
          [-69.61258725199076, -11.504557004727857],
          [-68.44788145484308, -11.377835630905087],
          [-66.68956690472601, -10.426694597548218],
          [-65.75588653512035, -10.340252034717443],
          [-65.61250948712137, -11.419389248064682],
          [-59.151971699323504, -17.630276549691462],
          [-58.580709420481824, -19.215241201196164],
          [-58.264999520712045, -22.258472918669653],
          [-55.934862372008595, -22.94872604812858],
          [-55.5832420512909, -24.258111332292987],
          [-54.549993417215354, -24.33832313046217],
          [-54.79192509187243, -25.851360024939662],
          [-54.06642559614639, -25.95027957680738],
          [-54.02250989007529, -26.99331372040612],
          [-55.517612394677386, -27.871331042423027],
          [-56.595050735314295, -28.857906274241763],
          [-57.558672442352666, -29.964280072005447],
          [-57.75867929757398, -30.352601077217784],
          [-55.31899017019925, -31.56593804263675],
          [-54.27490986217918, -32.083641492796396],
          [-53.43779164380761, -32.81780047034909],
          [-53.76915180694599, -33.092434884695486],
          [-53.57362175154491, -34.0886528203575],
          [-52.04731650558775, -32.810671196192004],
          [-50.025303097700515, -30.57109548534145],
          [-49.00653215758433, -29.36054244745781],
          [-48.26126161323809, -28.343002430528895],
          [-48.17901318784731, -26.899882265771577],
          [-48.036767141068275, -25.843950579574575],
          [-47.42752304296219, -24.9466621517903],
          [-46.54125235047927, -24.404134756610198],
          [-44.84471040979274, -24.004201487502524],
          [-44.20855316185148, -23.437222259846973],
          [-43.02734078285856, -23.126267839609348],
          [-42.00897904894343, -23.10677517284124],
          [-41.45822862007903, -22.465483979143176],
          [-40.70688077087476, -22.049125410309554],
          [-40.77565185112314, -21.59099298261864],
          [-40.044203135771106, -20.427569308604017],
          [-39.56554768986994, -19.500114897079712],
          [-39.587143263203586, -18.601533139973977],
          [-39.035655685061336, -17.931224458115008],
          [-38.95680043741629, -17.188409846409012],
          [-38.68110556440235, -15.713435795924322],
          [-38.60274836135592, -13.816873964601802],
          [-37.88138577801212, -12.803595470634297],
          [-37.19590439272377, -11.6038181510702],
          [-36.17658301516968, -10.542038556606839],
          [-35.1788826691459, -9.655590274012324],
          [-34.66997871137839, -8.118403939944116],
          [-34.71139130034529, -6.580756017158603],
          [-35.16855007784657, -5.064603221992728],
          [-36.97887684514911, -4.734012622672607],
          [-39.903098729838185, -2.7249984963818417],
          [-42.17080961589081, -2.3517644164327565],
          [-46.2271976684364, -0.5404919230839753],
          [-48.09847693059461, -0.2528221989329685],
          [-49.31080413262962, 1.0234595357028866],
          [-50.56447948453423, 2.7962497521047545],
          [-50.81899033117683, 4.054988834219271],
          [-51.4259742349195, 4.655858242090858],
          [-51.655688993518886, 4.443150750096333]]]);
/***** End of imports. If edited, may not auto-convert in the playground. *****/
var image = ee.Image("projects/mapbiomas-workspace/AMOSTRAS/GTAGUA/mapbiomas_gt_agua_anual_2020")


Map.addLayer(ee.Image(1), {palette: '008000'}, 'green', false, 0.5);
Map.addLayer(ee.Image(1), {palette: 'ffffff'}, 'white', false, 0.5);

var timecol = ee.List.sequence(0, 35, 1).map(function (element) {
  
  var isWater = image.select(ee.Number(element));
  
  return isWater.multiply(ee.Number(element).add(1)).byte().rename('isWater');
});

timecol = ee.ImageCollection.fromImages(timecol);

var begin2first = timecol.min();
var last2end = ee.Image.constant(timecol.size()).subtract(timecol.max());
var freq = image.reduce(ee.Reducer.sum());

var rgb = ee.Image.rgb(last2end, begin2first, freq).rename(['last2end', 'begin2first', 'freq']);

Map.addLayer(freq, {palette: 'ffffff, 00ffff, 0000ff, 000040', min:1, max:36}, 'freq', false);

Map.addLayer(rgb, {min:1, max:36}, 'rgb temporal', false);

Export.image.toAsset({
  image: rgb, 
  description: 'temp_rgb_swsc2_1985_2019', 
  assetId: 'projects/mapbiomas-workspace/AMOSTRAS/GTAGUA/temp_rgb_swsc2_1985_2020', 
  region: brazil, 
  scale: 30, 
  maxPixels: 1e13
});