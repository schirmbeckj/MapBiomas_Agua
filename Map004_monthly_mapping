/**** Start of imports. If edited, may not auto-convert in the playground. ****/
var col = ee.ImageCollection("users/wwfrioparaguai/MapBiomasAGUA/pilot_2020"),
    subgrids = ee.FeatureCollection("users/wwfrioparaguai/Brazil_SubGrids_0_25"),
    srtm = ee.Image("USGS/SRTMGL1_003"),
    t_freq_1_85 = 
    /* color: #d63000 */
    /* shown: false */
    ee.Geometry.MultiPolygon(
        [[[[-54.96782559580731, -2.4685921507009443],
           [-55.29741543955731, -3.5930974644165796],
           [-55.43474454111981, -3.7630347365510537],
           [-55.59404629893231, -3.9932191779826436],
           [-53.99004239268231, -3.9932191779826436],
           [-53.99828213877606, -2.39998956767354],
           [-54.07793301768231, -2.5015201388184027],
           [-54.17131680674481, -2.413710362850658],
           [-54.23448819346356, -2.5070080567563218],
           [-54.32237881846356, -2.5097520070980015],
           [-54.37181729502606, -2.5975553425361264],
           [-54.50365323252606, -2.5948115796264424],
           [-54.52562588877606, -2.553654424947145],
           [-54.57506436533856, -2.5673736240633764],
           [-54.63823575205731, -2.5042641006610316],
           [-54.71514004893231, -2.430175134173538],
           [-54.85246915049481, -2.4274310195273676]]],
         [[[-55.4599106354803, -3.7297797484127866],
           [-55.386120142225934, -3.590356277264448],
           [-55.138927759413434, -2.5756050728818436],
           [-55.314709009413434, -2.553654424947145],
           [-55.682751001600934, -2.7950902164160767],
           [-55.710216821913434, -2.6579166073300624],
           [-55.397106470350934, -2.4932882188692944],
           [-55.864025415663434, -2.3670590988670255],
           [-56.023327173475934, -2.9596773161881154],
           [-56.116710962538434, -3.617767777455808],
           [-56.402355493788434, -3.98499939439919],
           [-56.413341821913434, -4.31372486673581],
           [-56.297985376600934, -4.406838364317103],
           [-56.122204126600934, -4.357544420217714],
           [-55.825573267225934, -4.149379233653123],
           [-55.644298853163434, -4.012398352591644],
           [-55.550915064100934, -3.760294071790335]]],
         [[[-53.98412469408714, -3.9887823696873963],
           [-53.26452020189964, -4.00522177872949],
           [-53.11071160814964, -3.86821674021041],
           [-52.97338250658714, -3.9230214578772418],
           [-52.86901238939964, -3.8298513257256297],
           [-52.79760125658714, -3.86821674021041],
           [-52.63280633471214, -3.7969653152520144],
           [-52.48449090502464, -3.6654088536811926],
           [-52.35814813158714, -3.5064190385844016],
           [-52.25927117846214, -3.4132054637054257],
           [-52.23180535814964, -3.2157824539899877],
           [-52.18236688158714, -3.188359515067274],
           [-52.08898309252464, -3.199328778725806],
           [-51.92968133471214, -3.380304382614748],
           [-51.84179070971214, -3.5557636558340873],
           [-51.75390008471214, -3.424172240875262],
           [-51.67699578783714, -3.199328778725806],
           [-51.76488641283714, -3.15545102378491],
           [-52.00109246752464, -2.9086048718100486],
           [-52.08898309252464, -2.7494973159327434],
           [-52.03954461596214, -2.6342681815054725],
           [-52.23180535814964, -2.2336297901481],
           [-52.28673699877464, -2.0085645217450203],
           [-52.57238153002464, -2.019544062898769],
           [-52.89098504564964, -2.359871042979476],
           [-52.90197137377464, -2.820824090121835],
           [-53.00634149096214, -2.8317970544595776],
           [-52.95690301439964, -2.272052217748746],
           [-52.67675164721214, -2.0030747234722193],
           [-53.00634149096214, -1.9975849068025808],
           [-53.15465692064964, -2.1018882288932934],
           [-53.51171258471214, -2.1018882288932934],
           [-53.75341180346214, -2.1732496657583518],
           [-53.98412469408714, -2.3928016834875354]]],
         [[[-52.13075837877153, -2.020555461237585],
           [-52.12526521470903, -2.1468146696443298],
           [-51.94948396470903, -2.4925998864887244],
           [-51.93849763658403, -2.6956385667028377],
           [-51.98793611314653, -2.706612688443653],
           [-51.87807283189653, -2.8437806962598295],
           [-51.85060701158403, -2.948017515830275],
           [-51.79842195299028, -3.0275601161816907],
           [-51.75722322252153, -3.0796710766141384],
           [-51.67757234361528, -3.068700558559662],
           [-51.70503816392778, -3.107096876442404],
           [-51.58418855455278, -3.1646887291075885],
           [-51.65010652330278, -3.3264770955065965],
           [-51.67207917955278, -3.39228178869636],
           [-51.65834626939653, -3.4812245185596375],
           [-51.71602449205278, -3.516863522672762],
           [-51.81490144517778, -3.6292544702981937],
           [-51.88631257799028, -3.6429597355299848],
           [-51.99068269517778, -3.5141221090105215],
           [-51.99068269517778, -3.4236509767040397],
           [-52.02638826158403, -3.3880084744600882],
           [-52.04836091783403, -3.3331712972238816],
           [-52.12251863267778, -3.261878404280913],
           [-52.16646394517778, -3.25090981538455],
           [-52.16921052720903, -3.3359132291025344],
           [-52.21590242174028, -3.4483257789898176],
           [-52.40266999986528, -3.7169645413163646],
           [-52.55922517564653, -3.8046658904837263],
           [-52.55098542955278, -3.9225004849920815],
           [-52.57295808580278, -3.9964811890830694],
           [-50.99367341783403, -4.0019609772806355],
           [-51.00465974595903, -2.0025528461790336],
           [-52.12526521470903, -2.0025528461790336]]],
         [[[-52.62328043733379, -4.000860116958534],
           [-52.60130778108379, -3.893997553317984],
           [-52.62877360139629, -3.8309696572735],
           [-52.81279459749004, -3.9213995189318296],
           [-52.86772623811504, -3.8556333041840114],
           [-52.90617838655254, -3.9351001652641893],
           [-52.97484293733379, -3.9570207303311853],
           [-53.06548014436504, -3.951540643324515],
           [-53.13139811311504, -3.943320444942636],
           [-53.18083658967754, -4.000860116958534]]],
         [[[-57.002478835151464, -5.997524923537219],
           [-53.994971510932714, -6.00298799289995],
           [-53.989478346870214, -3.9536695153434303],
           [-55.544043776557714, -3.9892893396050555],
           [-55.598975417182714, -4.096139492104516],
           [-56.032935378120214, -4.339922996074596],
           [-56.211463210151464, -4.422079695766038],
           [-56.381751296088964, -4.3125354342554285],
           [-56.414710280463964, -4.000248975490211],
           [-57.005225417182714, -4.002988861570815]]],
         [[[-54.04536698347653, -4.283791247075797],
           [-53.98768876082028, -4.486443234511298],
           [-53.81465409285153, -4.382385564629138],
           [-53.68556473738278, -4.42893949103138],
           [-53.65260575300778, -4.354999545861125],
           [-53.57844803816403, -4.3385674556876035],
           [-53.52900956160153, -4.3577381927013175],
           [-53.50978348738278, -4.2755744762163035],
           [-53.45210526472653, -4.2125763185744844],
           [-53.34498856550778, -4.020811717088156],
           [-53.28181717878903, -3.9934130404397],
           [-54.00966141707028, -3.974233422170801]]],
         [[[-53.994825537947236, -6.005464446431533],
           [-52.624281104353486, -5.994538302605989],
           [-52.591322119978486, -5.86067540361566],
           [-52.629774268415986, -5.800563205753233],
           [-52.712171729353486, -5.611988234712714],
           [-52.745130713728486, -5.461631059318582],
           [-52.90004227644528, -5.3949106869668695],
           [-52.96596024519528, -5.033862834705276],
           [-52.68306229597653, -4.42072430426039],
           [-52.74898026472653, -4.3659540733453355],
           [-52.73799393660153, -4.226272006894802],
           [-52.65284989363278, -4.171487809913069],
           [-52.61439774519528, -3.996152949368735],
           [-53.22963212019528, -3.998892849144579],
           [-53.35048172957028, -4.089304366003432],
           [-53.38618729597653, -4.204358789787361],
           [-53.45485184675778, -4.300224523830214],
           [-53.52626297957028, -4.42620110556973],
           [-53.57570145613278, -4.371431277148693],
           [-53.61964676863278, -4.409770580271629],
           [-53.71852372175778, -4.489181395523494],
           [-53.76246903425778, -4.450846209271314],
           [-53.92451737410153, -4.494657686720462],
           [-54.00691483503903, -4.568583570574415]]],
         [[[-51.00583900303144, -3.99486511644706],
           [-52.58512367100019, -4.000344915448321],
           [-52.56589759678144, -4.035962713361155],
           [-52.60434974521894, -4.219506290207979],
           [-52.64829505771894, -4.257853263898967],
           [-52.66477454990644, -4.340018894571491],
           [-52.60984290928144, -4.427652374304654],
           [-52.79661048740644, -4.8820799471254235],
           [-52.87900794834394, -5.029840842422332],
           [-52.88450111240644, -5.0927659128575185],
           [-52.84330238193769, -5.1529493492156595],
           [-52.83506263584394, -5.240478699486248],
           [-52.86527503818769, -5.358076917243483],
           [-52.82682288975019, -5.3963598487676565],
           [-52.78287757725019, -5.371749669088165],
           [-52.68400062412519, -5.426437600804757],
           [-52.62082923740644, -5.738062661010832],
           [-52.53019203037519, -5.809111534017374],
           [-52.56589759678144, -5.923863811552045],
           [-52.54392494053144, -6.003083639783012],
           [-50.99485267490644, -6.003083639783012]]],
         [[[-51.00015875259987, -1.9929612888891524],
           [-50.99191900650612, -3.9978667479357046],
           [-48.00089117447487, -4.008826269120313],
           [-48.00638433853737, -2.0010461901876067],
           [-49.02811285416237, -2.0037910950262523],
           [-49.03635260025612, -2.239835032547415],
           [-49.14072271744362, -2.4648648236891573],
           [-49.36868902603737, -2.4840729706430063],
           [-49.33573004166237, -2.6377279085389134],
           [-49.462752424163114, -2.7015186384227876],
           [-49.51288146122346, -2.787251032437675],
           [-49.61038824478737, -2.788620538539081],
           [-49.62686773697487, -2.928521887988871],
           [-49.61038824478737, -3.0437216807686163],
           [-49.52524420181862, -3.1726211116842626],
           [-49.64060064713112, -3.391987088384752],
           [-49.78616949478737, -3.109544634496755],
           [-50.06082769791237, -2.4291918169800186],
           [-50.10202642838112, -2.0065359952640596],
           [-50.51950689713112, -2.0010461901876067],
           [-50.35196539322487, -2.316678534859431],
           [-50.53598638931862, -2.2892348983268276],
           [-50.79691168228737, -2.0092808908947193]]],
         [[[-51.04107746222826, -3.984488725206738],
           [-51.04657062629076, -5.998202100055974],
           [-48.67352375129076, -6.546312316597359],
           [-48.01434406379076, -5.998202100055974],
           [-48.01983722785326, -3.968048901571415]]],
         [[[-50.99977851634685, 1.3808556680993012],
           [-51.0849225593156, 1.4110591033888438],
           [-51.1837995124406, 1.3067183533551667],
           [-51.2277448249406, 1.1062624174092641],
           [-51.27992988353435, 1.0485943948518424],
           [-51.2387311530656, 0.9112854113413522],
           [-51.2497174811906, 0.8179122646728864],
           [-51.4309918952531, 0.7190442173952298],
           [-51.35683418040935, 0.6531309781588883],
           [-51.27992988353435, 0.611934759136332],
           [-51.2991559577531, 0.5185555247040745],
           [-51.2002790046281, 0.3674980725723647],
           [-51.2277448249406, 0.2988346867564752],
           [-51.2826764655656, 0.32904663522224975],
           [-51.3650739265031, 0.3592584921981348],
           [-51.4529645515031, 0.33728624200610097],
           [-51.5463483405656, 0.25488988838880927],
           [-51.57106757884685, 0.14228071961896843],
           [-51.50514961009685, 0.054390232681978026],
           [-51.43373847728435, 0.0022051822566391583],
           [-50.99977851634685, -0.0005413997740465824]]],
         [[[-53.99612961414425, -1.83994313905748],
           [-53.90686569812863, -1.802883016321477],
           [-53.82996140125363, -1.8001377918381423],
           [-53.784642797738, -1.7397418184790945],
           [-53.86841354969113, -1.6944435657620105],
           [-53.76129685047238, -1.6820893117769646],
           [-53.71597824695675, -1.614825904841977],
           [-53.6802726805505, -1.605216662815831],
           [-53.58002243640988, -1.6175713942306962],
           [-53.4825187743005, -1.6903254898278088],
           [-53.3616691649255, -1.693070874755764],
           [-53.18176804187863, -1.6779712097028654],
           [-53.06915817859738, -1.6024711567870353],
           [-52.982640844613, -1.5736431224804452],
           [-53.01285324695675, -1.5036305375028236],
           [-53.28613815906613, -1.5379507191949804],
           [-53.40973435047238, -1.5022577189287907],
           [-53.34656296375363, -1.271612575035849],
           [-53.47015915515988, -1.1576550513260806],
           [-53.8011222899255, -1.1466709444325132],
           [-54.00299606922238, -1.237288528590734]]],
         [[[-52.68310862575936, -2.0014363115827405],
           [-52.60345774685311, -1.8696756223837367],
           [-52.71332102810311, -1.9273221821174702],
           [-52.83417063747811, -1.9163420337105048],
           [-52.88086253200936, -1.9465372712039535],
           [-53.01269846950936, -1.998691402802154]]],
         [[[-52.30133372341561, -2.023395415862617],
           [-52.32330637966561, -1.894381526081738],
           [-52.38098460232186, -1.8696756223837367],
           [-52.54303294216561, -1.9026167492407187],
           [-52.55951243435311, -1.9437922718357499],
           [-52.60071116482186, -2.056333513781107]]],
         [[[-52.08528266326516, -2.014117579221407],
           [-50.999009469905786, -2.012745136050457],
           [-50.999913242030345, -0.8706432433114865],
           [-51.10840323226472, -0.937926118423613],
           [-51.16333487288972, -1.0161923188849504],
           [-51.189427402186595, -1.1329015071334656],
           [-51.22925284163972, -1.2207735845676722],
           [-51.359715488124095, -1.2537248843339333],
           [-51.40778067367097, -1.327863775855277],
           [-51.52426902845764, -1.367678196640193],
           [-51.63962547377014, -1.4198478141382163],
           [-51.86188059841561, -1.5594511862796139],
           [-51.90857249294686, -1.597888739113973],
           [-51.82617503200936, -1.6143617568533477],
           [-51.76849680935311, -1.655543714254438],
           [-51.84265452419686, -1.6445619417190176],
           [-51.94977122341561, -1.7077062961289364],
           [-52.00195628200936, -1.6335801087509718],
           [-52.09534007107186, -1.6473073905341769],
           [-52.15576487575936, -1.6775070764149633],
           [-52.04590159450936, -1.7159423649529044],
           [-52.01843577419686, -1.9410472680042485],
           [-51.90307932888436, -1.998691402802154],
           [-51.95801096950936, -1.998691402802154],
           [-52.04590159450936, -1.9630071733313244],
           [-52.09534007107186, -1.7708485758580619],
           [-52.14477854763436, -1.73515972065415],
           [-52.22717600857186, -1.73515972065415],
           [-52.20520335232186, -1.7598674622002553],
           [-52.12555247341561, -1.9959464894323962]]],
         [[[-54.00245811738711, -1.2419051255608309],
           [-54.10133507051211, -1.2776020613179069],
           [-54.39247276582461, -1.4341133554910206],
           [-54.67811729707461, -1.3242819190761341],
           [-54.93080284394961, -1.280347959085356],
           [-55.30433800019961, -1.46706177699557],
           [-55.89759971894961, -1.126573339130668],
           [-56.04591514863711, -1.2830938539116064],
           [-56.03767540254336, -1.357231879417616],
           [-55.98274376191836, -1.379198270903236],
           [-55.87013389863711, -1.4286219054949159],
           [-55.97725059785586, -1.5302115525869],
           [-55.92231895723086, -1.6674871556909736],
           [-55.81520225801211, -1.8074984022552152],
           [-55.26039268769961, -1.9557338192233222],
           [-55.10933067598086, -1.8239696199827844],
           [-54.84565880098086, -1.8596567392920866],
           [-54.696656725785544, -1.9227937122112624],
           [-54.471436999223044, -2.065529444541959],
           [-54.512635729691794, -2.2356975225963636],
           [-54.482423327348044, -2.2796087229332347],
           [-54.270936510941794, -2.1396372268260624],
           [-54.183045885941794, -2.0984666708410282],
           [-54.078675768754294, -1.9612237744828063],
           [-53.979798815629294, -1.8074984022552152]]],
         [[[-51.11799506765493, -1.957112367019393],
           [-50.84608344656118, -2.069652692275368],
           [-50.81861762624868, -2.001031465408934],
           [-50.84333686452993, -1.9653472863745132],
           [-50.71974067312368, -1.7622078450707876],
           [-50.61811713796743, -1.7704436760311089],
           [-50.55219916921743, -1.9131921182066216],
           [-50.47529487234243, -2.0120110572321246],
           [-50.43958930593618, -1.9186822113409248],
           [-50.33796577077993, -1.7484813792827532],
           [-49.96717719656118, -1.712792100394086],
           [-49.85182075124868, -1.5480639532692007],
           [-49.75569038015493, -1.5508095310577985],
           [-49.64582709890493, -1.6414115621382763],
           [-49.57166938406118, -1.7100467435375666],
           [-49.53321723562368, -1.6249387643002131],
           [-49.49201850515493, -1.3997976378582575],
           [-49.45905952077993, -1.2213165787929015],
           [-49.53321723562368, -0.8680051682968972],
           [-49.60462836843618, -0.6757619629824213],
           [-49.68153266531118, -0.5851302522488955],
           [-49.74745063406118, -0.4835111493720644],
           [-49.82160834890493, -0.4807646645838483],
           [-49.89851264577993, -0.4203417309247717],
           [-49.84907416921743, -0.28576179732090135],
           [-50.03309516531118, -0.25829628683295686],
           [-50.14845161062368, -0.12920769675387145],
           [-50.44782905202993, -0.1154748179368832],
           [-50.63734321218618, -0.23083071699070953],
           [-50.92298774343618, -0.7554066234769778],
           [-51.01362495046743, -0.8789902196945983]]],
         [[[-48.00181661616506, -2.0012753105481567],
           [-47.76149068843068, -1.6553826821893447],
           [-47.91804586421193, -1.556544579869522],
           [-48.02104269038381, -1.4837857774064054],
           [-48.06224142085256, -1.5647812694171574],
           [-48.18309103022756, -1.5688996020718786],
           [-48.22154317866506, -1.498886861637535],
           [-48.34925924311818, -1.487904265192503],
           [-48.46324239741506, -1.5510534356184595],
           [-48.41929708491506, -1.6595008315624906],
           [-48.42753683100881, -1.6938184074949476],
           [-48.47285543452443, -1.6124368654837644],
           [-48.51542745600881, -1.5671357073431083],
           [-48.60331808100881, -1.487513132621214],
           [-48.61567770014943, -1.4477007581179437],
           [-48.64863668452443, -1.4065148076193918],
           [-48.65550313960256, -1.4477007581179437],
           [-48.86698995600881, -1.681073053515126],
           [-48.90406881343068, -1.7469615251110784],
           [-48.92054830561818, -1.7908858943959363],
           [-48.98509298335256, -1.8155928910950143],
           [-48.98509298335256, -1.8924569226754664],
           [-49.01942525874318, -1.9350051982743932],
           [-49.03041158686818, -2.0036291898034566]]],
         [[[-47.99591154563831, -5.97978534705278],
           [-48.012996572412135, -7.191968827908568],
           [-47.543553854729566, -7.193996745488644],
           [-47.228319797301936, -7.312745108662358],
           [-47.07272292146797, -7.264548440212215],
           [-46.882218164079006, -7.362005253076623],
           [-46.76390859156925, -7.295083375420107],
           [-46.716888984829836, -7.396283653620839],
           [-46.31250663101241, -7.220247441677401],
           [-46.00740529116422, -6.874987033708464],
           [-44.77694779830961, -6.9022584600891435],
           [-43.906313031110415, -6.496878516878022],
           [-43.123539920452004, -5.980333456624631],
           [-42.85540232650351, -5.324075930198489],
           [-42.96454414255203, -4.214883151557705],
           [-42.54673029547877, -3.445276146738159],
           [-42.041245300556454, -3.2588503236081783],
           [-41.788679361046945, -2.798055685474224],
           [-42.1622123643333, -2.6169838134283174],
           [-42.95871638355118, -2.2876940173977536],
           [-43.557468733059636, -2.2053581870531134],
           [-43.94748214557751, -2.298668498433941],
           [-44.3539747607623, -2.326111085215703],
           [-44.92526096118502, -1.2280261691380983],
           [-46.07333016444534, -1.019327029413221],
           [-46.08980906926456, -1.4257269762804319],
           [-46.19967129070949, -1.9363683953001751],
           [-46.29854745802754, -2.205356622663645],
           [-46.166711842948416, -2.3151337843283764],
           [-46.364464718769455, -2.4578318994061275],
           [-46.83687558789899, -2.188890477439982],
           [-47.29830034781446, -1.9912703133838772],
           [-47.77071420531695, -1.6646348836912934],
           [-48.02339789253631, -1.9748035143809832]]],
         [[[-57.07384769751627, -3.9907269569963493],
           [-57.82091801001627, -5.545338443960892],
           [-58.69982426001627, -6.921397937186687],
           [-57.46935551001627, -8.85835663832853],
           [-55.31603519751627, -9.444064669848823],
           [-53.47033207251627, -9.660744418204457],
           [-52.50353519751627, -9.595754993960556],
           [-51.95421879126627, -8.988596855738704],
           [-52.87707035376627, -8.315199722019235],
           [-52.74523441626627, -7.204874487489234],
           [-52.67931644751627, -5.917005777827818],
           [-56.87609379126627, -5.829576532204819]]],
         [[[-45.983784862926086, -6.984089513648103],
           [-46.044209667613586, -7.068594118421738],
           [-45.961812206676086, -7.120379637334954],
           [-45.810750194957336, -7.071319817123534],
           [-45.706380077769836, -7.117654229092415],
           [-45.797017284801086, -7.035884481580638]]],
         [[[-47.648743547800336, -15.856786985257417],
           [-48.220032610300336, -17.120898727928886],
           [-48.549622454050336, -17.666062765420836],
           [-49.867981829050336, -17.93802989269297],
           [-50.263489641550336, -17.141896495505705],
           [-51.515931047800336, -17.09989858963877],
           [-52.438782610300336, -17.309792984505126],
           [-52.109192766550336, -18.2513192664794],
           [-51.779602922800336, -18.959341211941787],
           [-52.48972996992802, -18.99178324476086],
           [-53.25877293867802, -19.157912707522982],
           [-53.98387059492802, -19.59320399601101],
           [-54.44529637617802, -20.501410516527322],
           [-54.07176121992802, -21.42472169777415],
           [-53.32469090742802, -21.95555881622819],
           [-53.99485692305302, -21.935178285171087],
           [-54.67600926680302, -22.859502853378018],
           [-55.63181981367802, -23.001157333833007],
           [-55.44505223555302, -23.931142824132145],
           [-54.43431004805302, -25.656489276024608],
           [-53.59934911055302, -26.406737209076432],
           [-55.35060900925225, -27.88810635603933],
           [-56.65798205612725, -29.210174536660197],
           [-57.75661486862725, -30.29747421679032],
           [-53.37306994675225, -33.76132139111702],
           [-50.696089641795595, -31.073772588161486],
           [-48.71486682175225, -28.34353006399765],
           [-48.135065242364135, -27.35542900238147],
           [-48.56704805137258, -26.796213466790103],
           [-48.49514025925225, -25.612286108284046],
           [-47.48439807175225, -24.896881669226477],
           [-46.73732775925225, -24.377602239087253],
           [-46.07814807175225, -24.01684458740959],
           [-46.028621383192785, -23.778231849834185],
           [-44.644344039442785, -23.35529269413421],
           [-44.237849898817785, -22.738620487615595],
           [-43.787410445692785, -22.53582172038197],
           [-42.737136688310784, -21.891014984966272],
           [-42.429519500810784, -21.564430331494474],
           [-40.935378875810784, -19.071412344097986],
           [-41.440749969560784, -18.655562674731133],
           [-41.616531219560784, -17.820818449712],
           [-42.693191375810784, -17.67432985396996],
           [-43.572097625810784, -18.96754675498603],
           [-43.374343719560784, -19.382617587779873],
           [-43.528152313310784, -20.415637014279294],
           [-43.835769500810784, -20.8680009647444],
           [-49.790359344560784, -22.8865005746763],
           [-52.449050750810784, -22.48104145067253],
           [-51.723953094560784, -20.683105692995156],
           [-50.910964813310784, -19.89997005742974],
           [-49.438796844560784, -19.009100777920896],
           [-47.065749969560784, -18.238691505921253],
           [-47.285476532060784, -17.135796192844392],
           [-47.043777313310784, -17.009769954715928],
           [-47.109695282060784, -16.378377001450097]]]]),
    t_freq_2_75 = 
    /* color: #98ff00 */
    /* shown: false */
    ee.Geometry({
      "type": "GeometryCollection",
      "geometries": [
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -51.485219799804895,
                0.04509959189274748
              ],
              [
                -51.567617260742395,
                0.15221611671377439
              ],
              [
                -51.542898022461145,
                0.2510924451704474
              ],
              [
                -51.455007397461145,
                0.3444749626584961
              ],
              [
                -51.364370190429895,
                0.35546108582386543
              ],
              [
                -51.227041088867395,
                0.3060234344930491
              ],
              [
                -51.210561596679895,
                0.3609541425309315
              ],
              [
                -51.290212475586145,
                0.5092652541298949
              ],
              [
                -51.287465893554895,
                0.6246160326918478
              ],
              [
                -51.361623608398645,
                0.6438409289367222
              ],
              [
                -51.435781323242395,
                0.7234861312730042
              ],
              [
                -51.249013745117395,
                0.8086225562832727
              ],
              [
                -51.243520581054895,
                0.9047421708407517
              ],
              [
                -51.281972729492395,
                1.050289794246381
              ],
              [
                -51.227041088867395,
                1.1024656425647108
              ],
              [
                -51.183095776367395,
                1.3056677282225087
              ],
              [
                -51.084218823242395,
                1.4045170163853529
              ],
              [
                -50.996328198242395,
                1.3825508588877846
              ],
              [
                -51.004567944336145,
                2.0002595642375725
              ],
              [
                -53.36149873461824,
                1.997514653488833
              ],
              [
                -53.51530732836824,
                1.357838688915439
              ],
              [
                -53.59770478930574,
                1.3111594600338874
              ],
              [
                -53.77348603930574,
                1.3386179373669642
              ],
              [
                -54.00419892993074,
                1.4402115805073286
              ],
              [
                -53.99801090675999,
                -0.003964188409723561
              ],
              [
                -53.60799625832249,
                -0.001217606381505931
              ],
              [
                -51.44094303566624,
                -0.0012176063815440975
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -42.02648698111739,
                -3.239300987875521
              ],
              [
                -42.54285042085604,
                -3.4531743234825325
              ],
              [
                -42.9781396144009,
                -4.234014034863568
              ],
              [
                -42.85237800969827,
                -5.29444091971141
              ],
              [
                -43.16144574261284,
                -5.992449774587718
              ],
              [
                -43.90676693971318,
                -6.553710513186696
              ],
              [
                -44.608935569760774,
                -6.877394709674322
              ],
              [
                -44.608296576133625,
                -7.536852319161191
              ],
              [
                -45.19059868170643,
                -7.819932688137695
              ],
              [
                -45.59711375318852,
                -8.21157576400719
              ],
              [
                -46.124495062165806,
                -8.331194940892898
              ],
              [
                -46.41013473429257,
                -8.820070810632547
              ],
              [
                -46.509043814498625,
                -8.99376419371125
              ],
              [
                -46.67386142786074,
                -9.590095977556416
              ],
              [
                -46.915516391334734,
                -9.828335335459863
              ],
              [
                -47.42084537268835,
                -10.369120611686043
              ],
              [
                -46.958653010277544,
                -11.242154463606028
              ],
              [
                -46.43205773894681,
                -12.050239968953814
              ],
              [
                -46.69573935766368,
                -13.122475907367322
              ],
              [
                -46.454035972411134,
                -14.583811718234793
              ],
              [
                -47.60573115655461,
                -15.82238784772635
              ],
              [
                -47.113212816559894,
                -16.394179493127595
              ],
              [
                -47.050165345472465,
                -17.03477225868994
              ],
              [
                -47.23407367076061,
                -17.130550383652718
              ],
              [
                -47.039442502489976,
                -18.23319528055734
              ],
              [
                -47.878107130417675,
                -18.462767541838197
              ],
              [
                -49.44088682537796,
                -18.91318836280355
              ],
              [
                -50.83968689379128,
                -19.88480378830111
              ],
              [
                -51.71316647257265,
                -20.7263270053881
              ],
              [
                -52.469224671171844,
                -22.535047129788342
              ],
              [
                -49.73069775563522,
                -22.870172387691483
              ],
              [
                -43.845420548016875,
                -20.92035755640967
              ],
              [
                -43.54260660949217,
                -20.355256789377414
              ],
              [
                -43.38083116153558,
                -19.35142633542035
              ],
              [
                -43.59750607911394,
                -18.927439596919065
              ],
              [
                -42.64167983092415,
                -17.612921495313245
              ],
              [
                -41.630905788442874,
                -17.843146118183938
              ],
              [
                -41.47706964942063,
                -18.614343204455658
              ],
              [
                -41.06685314639191,
                -18.979650326904604
              ],
              [
                -39.64466311264238,
                -18.84145605234537
              ],
              [
                -38.576657880352855,
                -16.080341854834547
              ],
              [
                -34.84128852947572,
                -9.440970756132833
              ],
              [
                -33.347193948420454,
                -5.717077525280855
              ],
              [
                -35.83016016277503,
                -3.4393877154770642
              ],
              [
                -40.39601117149715,
                -2.7624669322119635
              ],
              [
                -41.796071167177615,
                -2.8341009672645194
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -53.86435056114078,
                2.4498997489566556
              ],
              [
                -53.89730954551578,
                2.296223106417007
              ],
              [
                -53.69131589317203,
                2.3044562125634878
              ],
              [
                -53.65286374473453,
                2.45264381774742
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -51.00698950205907,
                1.9940126231236652
              ],
              [
                -50.99325659190282,
                2.1367420678853515
              ],
              [
                -51.07565405284032,
                2.15595465347249
              ],
              [
                -51.08114721690282,
                2.188889949030521
              ],
              [
                -50.98501684580907,
                2.1614439191882404
              ],
              [
                -51.02621557627782,
                2.235547043144111
              ],
              [
                -50.98227026377782,
                2.3261124348989233
              ],
              [
                -51.00424292002782,
                2.4111837224994943
              ],
              [
                -51.05642797862157,
                2.493505713115475
              ],
              [
                -50.97677709971532,
                2.9324652088905716
              ],
              [
                -51.05917456065282,
                3.2216523028535704
              ],
              [
                -51.16629125987157,
                3.2792377320873523
              ],
              [
                -51.30636694346532,
                3.31488419692222
              ],
              [
                -51.36221433067203,
                3.4702514785914347
              ],
              [
                -51.49679685020328,
                3.51959800804656
              ],
              [
                -51.51327634239078,
                3.725179997823149
              ],
              [
                -51.64785886192203,
                3.6648808063136484
              ],
              [
                -51.73025632285953,
                3.7443652409619057
              ],
              [
                -51.75497556114078,
                3.933454088629989
              ],
              [
                -51.83462644004703,
                3.9498945992419685
              ],
              [
                -52.29879880332828,
                3.415418980118194
              ],
              [
                -52.39492917442203,
                2.932763558028413
              ],
              [
                -52.54049802207828,
                2.6172774177516067
              ],
              [
                -52.49929929160953,
                2.5706333673657724
              ],
              [
                -52.47183347129703,
                2.4306911103325626
              ],
              [
                -52.46359372520328,
                2.3593423620253002
              ],
              [
                -52.51303220176578,
                2.471852141314417
              ],
              [
                -52.54049802207828,
                2.578864795138496
              ],
              [
                -52.69156003379703,
                2.416970486679883
              ],
              [
                -53.09805417442203,
                2.551426496381965
              ],
              [
                -53.36721921348453,
                1.9970560986699566
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -54.001709579398096,
                -0.008650026493796302
              ],
              [
                -54.001709579398096,
                -1.2417681339903366
              ],
              [
                -53.790222762991846,
                -1.1538967239050497
              ],
              [
                -53.479858993460596,
                -1.159388768705311
              ],
              [
                -53.265625595023096,
                -1.0220845836683567
              ],
              [
                -53.185974716116846,
                -0.9094907360908082
              ],
              [
                -53.122803329398096,
                -0.8847745281522166
              ],
              [
                -52.894837020804346,
                -0.8545656064106447
              ],
              [
                -52.793213485648096,
                -0.7996396913488876
              ],
              [
                -52.746521591116846,
                -0.788654418531669
              ],
              [
                -52.672363876273096,
                -0.7749227867861772
              ],
              [
                -52.573486923148096,
                -0.7007712261647041
              ],
              [
                -52.37874508991217,
                -0.6950129983078258
              ],
              [
                -52.22218991413092,
                -0.478044516425299
              ],
              [
                -52.14528561725592,
                -0.40114248879860964
              ],
              [
                -52.03267575397467,
                -0.33247934927635076
              ],
              [
                -51.90358639850592,
                -0.32423973850180665
              ],
              [
                -51.76900387897467,
                -0.32423973850180665
              ],
              [
                -51.75527096881842,
                -0.2555760708046276
              ],
              [
                -51.59871579303717,
                -0.2748019390003341
              ],
              [
                -51.54103757038092,
                -0.2693088368642478
              ],
              [
                -51.32680417194342,
                -0.14296690671718662
              ],
              [
                -51.42018796100592,
                -0.08528880092108536
              ],
              [
                -51.44490719928717,
                0.005348374604625232
              ],
              [
                -53.99098874225592,
                0.010841538610209783
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -52.424260386020535,
                -0.8019047304359829
              ],
              [
                -52.34735639897656,
                -0.8746795133345405
              ],
              [
                -52.405034311801785,
                -1.032587901439029
              ],
              [
                -52.25253506196606,
                -1.0395363055849547
              ],
              [
                -52.19348342066894,
                -1.1068159543563432
              ],
              [
                -52.17837734712231,
                -1.017567189833745
              ],
              [
                -52.08911343110668,
                -1.087593208951318
              ],
              [
                -51.95865078462231,
                -1.072489691609864
              ],
              [
                -51.88586636079418,
                -0.9969710078699227
              ],
              [
                -51.85702724946606,
                -0.9228237050822807
              ],
              [
                -51.99023647798168,
                -0.9104656676601568
              ],
              [
                -52.06851406587231,
                -0.9475396505476201
              ],
              [
                -52.18524380220043,
                -0.8994807099278572
              ],
              [
                -52.10683346881842,
                -0.8968671945436
              ],
              [
                -52.03130246295905,
                -0.8515538672390398
              ],
              [
                -52.09310055866217,
                -0.7952547520643173
              ],
              [
                -51.9736242403028,
                -0.7856426297655477
              ],
              [
                -52.06563473834967,
                -0.6895202351961339
              ],
              [
                -52.0120763887403,
                -0.6606831260613363
              ],
              [
                -51.93242550983405,
                -0.726596260686321
              ],
              [
                -51.8967199434278,
                -0.8103594703489199
              ],
              [
                -51.8582677949903,
                -0.7307158005761549
              ],
              [
                -51.91457272663092,
                -0.6744151041140184
              ],
              [
                -51.8198156465528,
                -0.6895202351961339
              ],
              [
                -51.82393551959967,
                -0.5796637092589031
              ],
              [
                -51.88710690631842,
                -0.56867793279094
              ],
              [
                -51.90907956256842,
                -0.4972698941806823
              ],
              [
                -51.78822995319342,
                -0.41762156027604946
              ],
              [
                -51.91457272663092,
                -0.4038890030527565
              ],
              [
                -52.02718258991217,
                -0.4752980294444594
              ],
              [
                -52.19747067584967,
                -0.47255154137145555
              ],
              [
                -52.29085446491217,
                -0.5796637092589031
              ],
              [
                -52.35127926959967,
                -0.6840274657471233
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -53.204289682895535,
                -0.9172481746849585
              ],
              [
                -53.061467417270535,
                -0.9584413852607766
              ],
              [
                -53.058720835239285,
                -1.071033570149245
              ],
              [
                -52.877446421176785,
                -1.1451774113073774
              ],
              [
                -52.825261362583035,
                -1.362105325463178
              ],
              [
                -52.71951795437991,
                -1.4183936805311177
              ],
              [
                -52.643986948520535,
                -1.4060378155499362
              ],
              [
                -52.600041636020535,
                -1.3126803179686584
              ],
              [
                -52.517644175083035,
                -1.3607324221070838
              ],
              [
                -52.479192026645535,
                -1.3126803179686584
              ],
              [
                -52.48605848172366,
                -1.2275572022680457
              ],
              [
                -52.46408582547366,
                -1.1849946164237524
              ],
              [
                -52.317143686801785,
                -1.1630265728058602
              ],
              [
                -52.27457166531741,
                -1.2097084570788788
              ],
              [
                -52.193547495395535,
                -1.1561615239556877
              ],
              [
                -52.253972300083035,
                -1.1492964585050172
              ],
              [
                -52.363835581333035,
                -1.1259551131276777
              ],
              [
                -52.418767221958035,
                -1.0696605187541184
              ],
              [
                -52.48880506375491,
                -0.9694261586157614
              ],
              [
                -52.55746961453616,
                -0.950202782101095
              ],
              [
                -52.682439096958035,
                -0.9460834731425837
              ],
              [
                -52.712651499301785,
                -0.9268599670140546
              ],
              [
                -52.528630503208035,
                -0.9090094749880634
              ],
              [
                -52.56021619656741,
                -0.8376066418134781
              ],
              [
                -52.545109995395535,
                -0.8115168147074173
              ],
              [
                -52.520390757114285,
                -0.6796920689969298
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -53.487187632114285,
                -1.1712646093747372
              ],
              [
                -53.470708139926785,
                -1.256389538215595
              ],
              [
                -53.36771131375491,
                -1.2660002465135038
              ],
              [
                -53.37045789578616,
                -1.337392946137627
              ],
              [
                -53.45560193875491,
                -1.3772072105807114
              ],
              [
                -53.42538953641116,
                -1.5103741184185246
              ],
              [
                -53.47482801297366,
                -1.5543037145989824
              ],
              [
                -53.358098276645535,
                -1.6201963872283722
              ],
              [
                -53.27982068875491,
                -1.5460669841512078
              ],
              [
                -53.15347791531741,
                -1.5776409424883466
              ],
              [
                -53.00241590359866,
                -1.5323390291344847
              ],
              [
                -52.99966932156741,
                -1.5021372194858018
              ],
              [
                -53.07108045437991,
                -1.4431052119920225
              ],
              [
                -53.07382703641116,
                -1.395054769532762
              ],
              [
                -53.01889539578616,
                -1.452715179746576
              ],
              [
                -52.954350718051785,
                -1.5090013040933692
              ],
              [
                -52.943364389926785,
                -1.563913192834556
              ],
              [
                -52.849980600864285,
                -1.5488125645265762
              ],
              [
                -52.82388807156741,
                -1.4623251066249592
              ],
              [
                -52.891179331333035,
                -1.4115293192055225
              ],
              [
                -52.959843882114285,
                -1.362105325463178
              ],
              [
                -53.04636121609866,
                -1.3113073869774623
              ],
              [
                -53.09854627469241,
                -1.3346471107678135
              ],
              [
                -53.11227918484866,
                -1.3044427207413132
              ],
              [
                -53.086186655551785,
                -1.2742379681379021
              ],
              [
                -53.10129285672366,
                -1.2055894991442186
              ],
              [
                -53.061467417270535,
                -1.1918595944761519
              ],
              [
                -53.108159311801785,
                -1.1602805552641542
              ],
              [
                -53.174077280551785,
                -1.1863676133985197
              ],
              [
                -53.19193006375491,
                -1.139685339172882
              ],
              [
                -53.16995740750491,
                -1.0696605187541184
              ],
              [
                -53.18369031766116,
                -1.0394532340236602
              ],
              [
                -53.294926889926785,
                -1.0010071821011708
              ],
              [
                -53.49954725125491,
                -1.1218360326680006
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -51.64059236400152,
                -0.8633611788983306
              ],
              [
                -51.65981843822027,
                -0.9896874079044061
              ],
              [
                -51.62960603587652,
                -1.091294173227242
              ],
              [
                -51.76968171947027,
                -1.1819135373603593
              ],
              [
                -51.86855867259527,
                -1.289005319673015
              ],
              [
                -51.67080476634527,
                -1.24232481807177
              ],
              [
                -51.48953035228277,
                -1.1297390985371127
              ],
              [
                -51.38241365306402,
                -1.0555948736409868
              ],
              [
                -51.26980378978277,
                -0.948494571199712
              ],
              [
                -51.26980378978277,
                -0.8056890766537622
              ],
              [
                -51.28902986400152,
                -0.7452698092100417
              ],
              [
                -51.42361238353277,
                -0.7123134915309914
              ],
              [
                -51.42361238353277,
                -0.640907342579959
              ],
              [
                -51.40987947337652,
                -0.5557679501150097
              ],
              [
                -51.53347566478277,
                -0.6436537520421316
              ],
              [
                -51.59390046947027,
                -0.7342843968436837
              ]
            ]
          ],
          "evenOdd": true
        },
        {
          "type": "Polygon",
          "coordinates": [
            [
              [
                -61.36310801399458,
                4.535821777705974
              ],
              [
                -60.97858652961958,
                4.390694415293055
              ],
              [
                -60.82203135383833,
                4.4618925555009765
              ],
              [
                -60.58033213508833,
                4.502965272506879
              ],
              [
                -60.50068125618208,
                4.472926202396182
              ],
              [
                -60.4031775940727,
                4.5208434225709615
              ],
              [
                -60.3702186096977,
                4.564650680660061
              ],
              [
                -60.2823279846977,
                4.566019614522137
              ],
              [
                -60.2109168518852,
                4.516736355945091
              ],
              [
                -60.17521128547895,
                4.461973253541191
              ],
              [
                -60.15535411665246,
                4.321783372875026
              ],
              [
                -59.70766124555871,
                4.194419870074497
              ],
              [
                -59.57857189008996,
                4.420372715412113
              ],
              [
                -59.77911982916157,
                5.44602679402969
              ],
              [
                -61.03705439947407,
                5.396809471365556
              ]
            ]
          ],
          "geodesic": true,
          "evenOdd": true
        }
      ],
      "coordinates": []
    }),
    t_freq_1_25 = 
    /* color: #1b04d6 */
    /* shown: false */
    ee.Geometry.Polygon(
        [[[-67.69548212899599, 4.8977986323173575],
          [-77.09977900399599, -7.293246757480613],
          [-52.84196650399599, -35.04481665346283],
          [-27.52946650399599, -3.2682797893055984],
          [-52.92985712899599, 6.908458100627178]]]);
/***** End of imports. If edited, may not auto-convert in the playground. *****/

var other_i = t_freq_1_25.difference(t_freq_1_85);
var other = other_i.difference(t_freq_2_75);

var mapb = ee.Image('projects/mapbiomas-workspace/public/collection4/mapbiomas_collection40_integration_v1');
var grids = ee.FeatureCollection('users/frederickirchhoff/brazil_big_grids');
var slopes = ee.Terrain.slope(srtm);

var year = 2000;
var threshold_freq_mean_0 = 1.25; // 2.75 Nordeste // 1.85 Transamaznica PA // 1.25 Brasil 
var threshold_freq_mean_1 = 1.85;
var threshold_freq_mean_2 = 2.75;
var threshold_freq_recap = 8; // 8
var threshold_srtm_mean = 20; // 20

var grid_names = [
'SG-23-V',
'SF-23-Y',
'SF-23-Z',
'SF-24-Y',
'SF-23-X',
'SF-23-V',
'SE-23-Y',
'SE-23-Z',
'SE-23-X',
'SE-23-V',
'SE-24-Y',
'SE-24-V',
'SF-24-V',
'SB-25-V',
'SB-25-Y',
'SC-25-V',
'SC-24-X',
'SC-24-Z',
'SC-24-V',
'SC-24-Y',
'SD-24-X',
'SD-24-V',
'SD-24-Z',
'SE-24-X',
'SD-24-Y',
'SD-23-X',
'SD-23-Z',
'SD-23-Y',
'SD-23-V',
'SC-23-Z',
'SC-23-Y',
'SC-23-X',
'SC-23-V',
'SB-24-Y',
'SB-23-Z',
'SB-23-Y',
'SB-23-X',
'SB-23-V',
'SA-23-Y',
'SA-23-Z',
'SB-24-V',
'SA-24-Y',
'SB-24-Z',
'SB-24-X',
'SA-24-Z',
'SA-23-X',
'SA-23-V',
'NB-22-Y',
'NA-22-V',
'NA-22-X',
'NA-22-Z',
'SA-22-X',
'NA-22-Y',
'SA-22-V',
'NA-21-Z',
'NA-21-X',
'SA-21-X',
'NA-21-Y',
'NA-21-V',
'SA-21-V',
'SA-20-X',
'NA-20-Z',
'NA-20-X',
'NB-20-Z',
'NB-21-Y',
'NB-20-Y',
'NA-20-V',
'NA-19-X',
'NA-20-Y',
'SA-20-V',
'NA-19-Z',
'SA-19-X',
'SA-19-V',
'NA-19-Y',
'SC-19-Y',
'SC-19-V',
'SC-19-Z',
'SC-19-X',
'SB-19-Z',
'SB-19-Y',
'SB-19-X',
'SB-19-V',
'SB-18-Z',
'SB-18-X',
'SC-18-X',
'SA-19-Y',
'SA-19-Z',
'SA-20-Y',
'SA-20-Z',
'SB-20-X',
'SB-20-V',
'SB-20-Y',
'SC-20-V',
'SB-20-Z',
'SD-20-V',
'SC-20-Y',
'SH-21-Y',
'SH-21-V',
'SH-21-X',
'SG-21-Z',
'SG-21-X',
'SF-21-Z',
'SF-21-X',
'SF-21-Y',
'SF-21-V',
'SF-22-V',
'SF-22-Y',
'SF-22-X',
'SF-22-Z',
'SE-22-Z',
'SG-22-X',
'SG-22-Z',
'SH-22-X',
'SG-22-Y',
'SH-22-V',
'SG-22-V',
'SH-21-Z',
'SH-22-Y',
'SI-22-V',
'SH-22-Z',
'SB-21-Z',
'SC-21-X',
'SB-21-X',
'SA-21-Z',
'SA-21-Y',
'SB-22-V',
'SA-22-Y',
'SA-22-Z',
'SB-22-X',
'SB-22-Z',
'SC-22-X',
'SB-22-Y',
'SC-22-V',
'SC-22-Y',
'SC-21-Z',
'SD-21-X',
'SD-22-V',
'SC-22-Z',
'SD-22-X',
'SD-22-Z',
'SE-22-X',
'SE-22-V',
'SE-22-Y',
'SD-22-Y',
'SE-21-X',
'SD-21-Z',
'SE-21-Z',
'SE-21-Y',
'SE-21-V',
'SD-21-Y',
'SE-20-X',
'SD-20-Z',
'SD-21-V',
'SC-21-Y',
'SC-20-Z',
'SD-20-X',
'SC-20-X',
'SB-21-V',
'SB-21-Y',
'SC-21-V',
  ];

var years = [
  2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018
  ];

for (var i=0; i<1; i++) {

var year = years[i];

var path = 'users/wwfrioparaguai/MapBiomasAGUA/pilot_vecs/water_objs_' + year + '_';

var tables = grid_names.map(function (grid_name) {
  return ee.FeatureCollection(path + grid_name);
});

var tables_merged = ee.List(tables).iterate(
  function (table, tables_merged) {
    return ee.FeatureCollection(tables_merged).merge(table);
  },
  ee.FeatureCollection([])
  );

tables_merged = ee.FeatureCollection(tables_merged);

// print(tables_merged.limit(100));

var always_water = mapb.eq(33).reduce(ee.Reducer.sum()).gte(33).selfMask();
var urban_year = mapb.select('classification_' + year).eq(24);

var freq_year = col
  .filter(ee.Filter.eq('year', year))
  // .filter(ee.Filter.eq('grid_name', grid_name))
  .mosaic()
  .reduce(ee.Reducer.sum())
  .addBands(always_water.multiply(12))
  .where(urban_year.eq(1), 0)
  .reduce(ee.Reducer.max())
  .selfMask()
  .rename('freq');

var mean_freq_img = tables_merged.reduceToImage(['mean_freq'], ee.Reducer.firstNonNull());
var srtm_mean_img = tables_merged.reduceToImage(['mean_srtm'], ee.Reducer.firstNonNull());

var ok_img = mean_freq_img.gte(threshold_freq_mean_0).and(srtm_mean_img.lt(threshold_srtm_mean));
ok_img = ok_img.addBands(freq_year.gte(threshold_freq_recap).and(srtm_mean_img.lt(threshold_srtm_mean))).reduce(ee.Reducer.max());
  
var ok_img_1 = mean_freq_img.gte(threshold_freq_mean_1).and(srtm_mean_img.lt(threshold_srtm_mean));
ok_img_1 = ok_img_1.addBands(freq_year.gte(threshold_freq_recap).and(srtm_mean_img.lt(threshold_srtm_mean))).reduce(ee.Reducer.max());
  
var ok_img_2 = mean_freq_img.gte(threshold_freq_mean_2).and(srtm_mean_img.lt(threshold_srtm_mean));
ok_img_2 = ok_img_2.addBands(freq_year.gte(threshold_freq_recap).and(srtm_mean_img.lt(threshold_srtm_mean))).reduce(ee.Reducer.max());


var months = [1,2,3,4,5,6,7,8,9,10,11,12];

var water_month_col = months.map(function (month) {
  
  var water_month = col
    .filter(ee.Filter.eq('year', year))
    .mosaic()
    .select('w_' + month)
    .addBands(always_water)
    .where(urban_year.eq(1), 0)
    .reduce(ee.Reducer.max())
    .selfMask();
  
  var water_0 = water_month.and(ok_img).selfMask().clip(other);
  var water_1 = water_month.and(ok_img_1).selfMask().clip(t_freq_1_85);
  var water_2 = water_month.and(ok_img_2).selfMask().clip(t_freq_2_75);
  
  return water_0.addBands(water_1).addBands(water_2).reduce(ee.Reducer.max()).rename('w_' + month)
    .set('system:index', 'w_' + month);
});

water_month_col = ee.ImageCollection.fromImages(water_month_col);

var water_img = water_month_col.toBands();

Export.image.toAsset({
  image: water_img, 
  description: 'iteration_2_' + year, 
  assetId: 'users/wwfrioparaguai/MapBiomasAGUA/iteration_2_' + year, 
  region: t_freq_1_25, 
  scale: 30,
  maxPixels: 1e13
});
  
}